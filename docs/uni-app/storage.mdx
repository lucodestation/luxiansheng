---
sidebar_position: 4
title: 数据缓存 storage
tags: [uni-app, storage]
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

## 语法

<Tabs className="custom-tabs">
  <TabItem value="sync" label="同步" default>

```js
uni.setStorageSync(key, data);
const result = uni.getStorageSync(key);
```

  </TabItem>
  <TabItem value="async" label="异步">

```js
uni.setStorage({ key, data });
uni.getStorage({ key, success(result) {} });
```

  </TabItem>
</Tabs>

## [storage](https://uniapp.dcloud.io/api/storage/storage) 示例

```html
<template>
  <view>
    <view>首页</view>

    <button @click="handleSetStorage">setStorage</button>

    <button @click="handleGetStorage">getStorage</button>

    <button @click="handleRemoveStorage">removeStorage</button>

    <button @click="handleClearStorage">clearStorage</button>
  </view>
</template>

<script>
  export default {
    data() {
      return {};
    },
    onLoad() {
      console.log('首页 onLoad');
    },
    onShow() {
      console.log('首页 onShow');
    },
    methods: {
      handleSetStorage() {
        // 将 data 同步存储在本地缓存中指定的 key 中，会覆盖掉原来该 key 对应的内容。
        uni.setStorageSync('userInfo', {
          username: 'tom',
          age: 23
        });
      },
      handleGetStorage() {
        // 从本地缓存中同步获取指定 key 对应的内容。本地缓存中如果没有指定的 key ，则返回空字符串 ''。
        const userInfo = uni.getStorageSync('userInfo');
        console.log(userInfo);
      },
      handleRemoveStorage() {
        // 从本地缓存中同步移除指定 key。
        uni.removeStorageSync('userInfo');
      },
      handleClearStorage() {
        // 同步清理本地数据缓存。
        uni.clearStorageSync();
      }
    }
  };
</script>
```
